From d72ef0e97dbf74523cc50fac6dac855cd610948e Mon Sep 17 00:00:00 2001
From: Alexander Graf <agraf@suse.de>
Date: Wed, 20 Feb 2013 20:40:46 +0100
Subject: [PATCH 072/169] fix fpfpconv is_32bit case

---
 target-arm/translate-a64.c | 4 ++++
 1 file changed, 4 insertions(+)

Index: qemu-1.6.0+dfsg/target-arm/translate-a64.c
===================================================================
--- qemu-1.6.0+dfsg.orig/target-arm/translate-a64.c	2013-11-05 22:23:31.023395644 +0000
+++ qemu-1.6.0+dfsg/target-arm/translate-a64.c	2013-11-05 22:23:31.023395644 +0000
@@ -1699,6 +1699,10 @@
         unallocated_encoding(s);
     }
 
+    if (is_32bit && direction) {
+        tcg_gen_ext32u_i64(tcg_int, tcg_int);
+    }
+
     tcg_temp_free_i64(tcg_fpstatus);
     tcg_temp_free_i32(tcg_shift);
 }
