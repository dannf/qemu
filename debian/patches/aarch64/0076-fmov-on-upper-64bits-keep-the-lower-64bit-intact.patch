From 9cd170f459e1a5897315d32a7f111863c1d73cf4 Mon Sep 17 00:00:00 2001
From: Alexander Graf <agraf@suse.de>
Date: Thu, 21 Feb 2013 02:23:53 +0100
Subject: [PATCH 076/169] fmov on upper 64bits keep the lower 64bit intact

---
 target-arm/translate-a64.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: qemu-1.6.0+dfsg/target-arm/translate-a64.c
===================================================================
--- qemu-1.6.0+dfsg.orig/target-arm/translate-a64.c	2013-11-05 22:23:31.803393625 +0000
+++ qemu-1.6.0+dfsg/target-arm/translate-a64.c	2013-11-05 22:23:31.799393635 +0000
@@ -1764,7 +1764,7 @@
             freg_offs += sizeof(float64);
         }
 
-        if (itof) {
+        if (itof && (!(rmode & 1))) {
             clear_fpreg(dest);
         }
 
